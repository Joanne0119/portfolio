/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, { useRef } from 'react'
import { useGLTF, useVideoTexture } from '@react-three/drei'
import { gsap } from "gsap";
import { useGSAP } from '@gsap/react';

const Cellphone = (props) => {
  const phoneRef = useRef();

    useGSAP(() => {
      gsap.to(phoneRef.current.position, {
        y: phoneRef.current.position.y + 0.2,
        duration: 1.2,
        repeat: -1,
        yoyo: true,
      })
   });
   const txt = useVideoTexture(props.texture ? props.texture : '/projects/test.mov')
   
  const { nodes, materials } = useGLTF('/models/phone.glb')
  return (
    <group {...props} dispose={null} ref={phoneRef}>
      <mesh
        name="phone_body"
        castShadow
        receiveShadow
        geometry={nodes.phone_body.geometry}
        material={materials.phone_body}
      />
      <mesh
        name="Cube018"
        castShadow
        receiveShadow
        geometry={nodes.Cube018.geometry}
        material={materials.Screen}
      >
        <meshBasicMaterial map={txt} />
      </mesh>
      <mesh
        name="Cube018_1"
        castShadow
        receiveShadow
        geometry={nodes.Cube018_1.geometry}
        material={materials.Black}
      />
    </group>
  )
}

useGLTF.preload('/modles/phone.glb')
export default Cellphone